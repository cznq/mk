<template>
  <div>
   <TcAutocomplete
    :on_Focus = "on_Focus"
    :defaultData = "defaultCity"
    :itemValue = "itemValue"
    :itemPrintFn = "buildCityItem"
    :localData = "localData"
   >
   </TcAutocomplete>
  </div>
</template>

<script>
import TcAutocomplete from './autocomplete.vue'

export default {
  name: 'app',
  data (){
     return {
       defaultCity:[["531","新沂"], ["226","苏州"]],
       nameAttr:1,
       dataAttrMap:{
                 id: 0,
                 name: 1

             },
      localData:[["531","新沂"], ["226","苏州"]],
     }
  },
  watch:{
   
  },
    computed:{
     
    },
   components:{
      "TcAutocomplete": TcAutocomplete
    },
   methods:{
      on_Focus(){
        console.log('on_Focus')
      },
      itemValue(item){
        return item.cityName
      },
      buildCityItem(city, tagName,str) { 

             let cityobj={};
                         let cityName = city[this.nameAttr];
                      for (let i in this.dataAttrMap) {
                          cityobj[i] = city[this.dataAttrMap[i]]

                      }
                      if(cityName){
                        cityobj.cityName = cityName + (str ? str : '');
                      }else{
                          cityobj.cityName = '暂无可选城市' + (str ? str : '');
                      }
                  
                      return cityobj;
          }
   }
}
</script>

<style>
#app {
  font-family: 'Avenir', Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

}
</style>
