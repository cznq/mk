

<script>


import {Countdown as Counttimer} from './timer';


export default {
 name: 'TcCountdown',
 props:{
   time:{
      default: 0,
      type:Number
   },
   callbackfn:{
      default: ()=>{},
      type:Function
   },
   step:{
       default: 0,
      type:Number
   },
   level:{
       default: 0,
      type:Number
   }
  

 },
 
 beforeMount(){
 console.log(this.isMounted)
  this.isMounted = true;
  let {time, callbackfn, step, level} = this;

         this.countdown = new Counttimer(time, (data, isend)=> {  
      
            this.elem = callbackfn(data, isend)
        }, level, step);


 },
 mounted (){
  console.log(this.isMounted)
   this.isMounted && this.countdown.start();
 },
 beforeDestroy (){
    this.isMounted = false;
 },
 data () {
    return {
      elem:<span> </span>
    }
  },
  watch:{
  },
  computed: {    
  },
  render (createElement){
    
   return (
            <p>
                {this.elem || 'over'}
            </p>
        )
  
  },
  methods: {


  }
}
</script>


