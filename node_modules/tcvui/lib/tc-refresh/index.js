!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("vue")):"function"==typeof define&&define.amd?define(["vue"],e):"object"==typeof exports?exports.TcRefresh=e(require("vue")):t.TcRefresh=e(t.Vue)}(this,function(t){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=3)}([function(t,e,n){function o(t){n(4)}var i=n(5)(n(2),n(6),o,null,null);t.exports=i.exports},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=(document.body,document.body);e.default={name:"TcRefresh",props:{initScrollTop:{default:0,type:Number},damping:{default:.2,type:Number},didsomethingY:{default:40,type:Number},didSomeAction:{default:function(){},type:Function},bottomdistance:{default:0,type:Number},onPulling:{default:function(){},type:Function},downText:{default:"下拉刷新",type:String},upText:{default:"松开刷新",type:String},loadingText:{default:"正在刷新",type:String},tobuttomActionEnd:{default:function(){},type:Function},endRefresh:{default:!1,type:Boolean},endRefreshAction:{default:function(){},type:Function},spin:{default:"drop-refresh-sign",type:String},touchDom:{default:"",type:String},onTouchStart:{default:function(){console.log(1232132131231)},type:Function},onPullStatusChange:{default:function(){},type:Function}},beforeMount:function(){this.textview=this.downText},mounted:function(){this.initScrollTop;this.touchDom&&(o=document.getElementById(this.dom)?document.getElementById(this.dom):document.body),o.scrollTop=this.initScrollTop,this.lastScrollTop=this.initScrollTop,o.addEventListener("touchstart",this.EventHandlers(this.v_onTouchStart,this.onTouchStart)),o.addEventListener("touchmove",this.EventHandlers(this.v_onTouchMove,this.onTouchMove),{passive:!1}),o.addEventListener("touchend",this.EventHandlers(this.v_onTouchEnd,this.onTouchEnd)),window.addEventListener("scroll",this.v_onScrollaction)},bedoreUpdate:function(){},updated:function(){},activated:function(){},deactivated:function(){},destroyed:function(){o.removeEventListener("touchstart",this.EventHandlers(this.v_onTouchStart,this.onTouchStart)),o.removeEventListener("touchmove",this.EventHandlers(this.v_onTouchMove,this.onTouchMove),{passive:!1}),o.removeEventListener("touchend",this.EventHandlers(this.v_onTouchEnd,this.onTouchEnd)),window.removeEventListener("scroll",this.v_onScrollaction)},data:function(){return{distanceY:0,lastScrollTop:void 0,btouching:!1,startY:0,status:0,textview:"",bAnimation:!1,bendAction:!0}},watch:{},computed:{},methods:{EventHandlers:function(t,e){return e?function(n){t(n),e(n)}:t},v_onTouchStart:function(t){this.bAnimation=!1,this.btouching=!0,this.startY=t.touches?t.touches[0].pageY:t.pageY},v_onTouchMove:function(t){if(this.btouching){var e=t.touches?t.touches[0].pageY:t.pageY;if(this.status){var n=(e-this.startY)*this.damping;n>=0?(this.distanceY=n,3!=this.status&&(n>this.didsomethingY?(this.textview=this.upText,!(2==this.status)&&this.v_changeStatus(2)):(this.textview=this.downText,!(1==this.status)&&this.v_changeStatus(1))),!!this.onPulling&&this.onPulling(n),t&&t.preventDefault()):(this.textview=this.downText,this.v_changeStatus(0),this.distanceY=0)}else 0==o.scrollTop&&(this.textview=this.downText,this.v_changeStatus(1))}},v_onTouchEnd:function(){if(this.bAnimation=!0,this.status){var t=!!this.v_didsomeAction&&this.v_didsomeAction();this.textview=t?this.loadingText:this.downText,this.distanceY=t?this.didsomethingY:0}this.btouching=!1},v_onScrollaction:function(){var t=Math.ceil(o.scrollTop),e=window.innerHeight,n=o.scrollHeight;t>this.lastScrollTop?this.v_onScrollUp():this.v_onScrollDown(),t+e+this.bottomdistance>=n&&this.v_tobuttomAction(this.tobuttomActionEnd),this.lastScrollTop=t},v_tobuttomAction:function(t){!!t&&t()},v_done:function(){},v_onScrollUp:function(){},v_onScrollDown:function(){},endRefreshFn:function(){this.bendAction=!0,this.textview=this.downText,this.distanceY=0,this.v_changeStatus(0),!!this.endRefreshAction&&this.endRefreshAction()},v_didsomeAction:function(t){return this.distanceY>this.didsomethingY?(this.v_changeStatus(3),this.bendAction&&(this.bendAction=!1,!!this.didSomeAction&&this.didSomeAction(t)),!0):(this.v_changeStatus(0),this.btouching=!1,!1)},v_changeStatus:function(t){this.status=t,!!this.onPullStatusChange&&this.onPullStatusChange(t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n.n(o),s=n(0),u=n.n(s);e.default=u.a,i.a.config.productionTip=!1},function(t,e){},function(t,e){t.exports=function(t,e,n,o,i){var s,u=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(s=t,u=t.default);var r="function"==typeof u?u.options:u;e&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns),o&&(r._scopeId=o);var d;if(i?(d=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},r._ssrRegister=d):n&&(d=n),d){var a=r.functional,h=a?r.render:r.beforeCreate;a?r.render=function(t,e){return d.call(e),h(t,e)}:r.beforeCreate=h?[].concat(h,d):[d]}return{esModule:s,exports:u,options:r}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.bAnimation?"refreshview":""],style:{transform:"translateY("+t.distanceY+"px)"}},[n("div",{class:[this.spin]},[n("div",[n("i",{class:[0==t.status?"down":1==t.status?"down":2==t.status?"up":"3"==t.status?"refresh":"down"]}),t._v(" "),n("span",[t._v(t._s(t.textview))])])]),t._v(" "),n("div",[t._t("default")],2)])},staticRenderFns:[]}}])});
//# sourceMappingURL=tcrefresh.1.0.0.js.map