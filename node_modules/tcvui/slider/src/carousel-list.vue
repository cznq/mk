<script>
import eventHandle from './eventHandle.js'
export default {
 name: 'CarouselList',
 props:{
  
  count: {
    type:Number,
    default:0
  },
  index : {
    type:Number,
    default:0
  },
  num:Number,
  parentStyle:Object,
  list:Array,
  loop:{
     type:Boolean,
    default:true
  },
  startSlider:{
    type:Function,
    default:()=>{}
  },
  stopSlider:{
    type:Function,
    default:()=>{}
  },
  updateState:{
     type:Function,
     default:()=>{}
  },
  updateUlStyle:{
      type:Function,
      default:()=>{}
  },
  transformPosition:{
    type:Number,
    default:0
  },
  to:{
    type:Function,
    default:()=>{}
  }

 },
 
 beforeMount(){
 
 },
 mounted (){
  
 },
 beforeDestroy (){
   
 },
 data () {
    return {
    }
  },
  render (h){
      
        const courses = this,
              ulstyle = courses.parentStyle;
       
        if(courses.list.length < 1){
            return ('<ul></ul>')
        }
        let firstItem = courses.list[0]
           
        return (
                <ul style={ulstyle} 
                    on-touchstart={eventHandle.CarouselTouchStart.bind(this)} 
                    on-touchmove={eventHandle.CarouselTouchMove.bind(this)}
                    on-touchend={eventHandle.CarouselTouchEnd.bind(this)} 
                >
                    {
                        courses.list.map((item,i) => (
                            <li key={i} style={{top:0,left:(i * 100 +'%')}}>
                                <a href={item.link}>
                                    <img src={item.img} />
                                </a>
                            </li>
                        ))
                    }
                    {
                        courses.loop && courses.list.length > 1 ? (<li style={{top:0,left:(courses.list.length * 100 +'%')}}>
                            <a href={firstItem.link}>
                                <img src={firstItem.img} />
                            </a>
                        </li>) : null
                    }
                </ul>
        )
  },
  methods: {


  }
}
</script>


